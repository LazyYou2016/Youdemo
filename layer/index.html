<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<style>
			.layui-layer-title[style*="center"] {
				padding: 0 20px;
			}
			.layui-layer a[class*='layui-layer-btn'] {
				height: auto;
				display: inline-block;
				padding: 6px 12px;
				margin-bottom: 0;
				font-size: 14px;
				font-weight: 400;
				line-height: 1.42857143;
				text-align: center;
				white-space: nowrap;
				vertical-align: middle;
				-ms-touch-action: manipulation;
				touch-action: manipulation;
				cursor: pointer;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
				background-image: none;
				border-radius: 4px;
			}
			body .layui-layer-tab .layui-layer-title span.layui-layer-tabnow {
				height: 43px;
			}
		</style>
		<style>
			html,
			body {
				margin: 0;
				padding: 0;
			}
			
			body {
				font-family: "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
				color: #333;
			}
			.layer_notice {
				float: right;
				margin: 10px;
			}
			.layer_notice ul {
				padding: 10px;
			}
			.main {
				width: 1200px;
				margin: 0 auto;
				padding: 50px 0;
			}
			.main .demo {
				padding-top: 30px;
			}
			body .nav-ul li {
				line-height: 30px;
				padding: 5px 10px;				
			}
			body .nav-ul li.active {
				background: #eee;
			}
			body .nav-ul li a{
				color: #333;
				display: block;
			}
			body .nav-ul li a:hover {
				color: #000000;
			}
			pre {
				padding: 9.5px;
				margin: 0 0 10px;
				font-size: 13px;
				line-height: 1.42857143;
				color: #333;
				word-break: break-all;
				word-wrap: break-word;
				background-color: #f5f5f5;
				border: 1px solid #ccc;
				border-radius: 4px;
			}
			.main pre {
				display: block;
				width: 100%;
				margin: 10px 0;
				max-height: 300px;
				overflow-y: auto;
			}
		</style>
	</head>

	<body>
<div class="layer_notice">
	<div class="alert alert-success" role="alert">
		<a href="http://fly.layui.com/jie/220.html" class="alert-link" target="_blank">1、Fork layer on Github</a>
	</div>
	<div class="alert alert-info" role="alert">
		<a href="http://layer.layui.com/" class="alert-link" target="_blank">2、layer弹层官网</a>
	</div>
	<div class="alert alert-warning" role="alert">
		<a href="http://www.layui.com/doc/modules/layer.html" class="alert-link" target="_blank">3、layer文档手册</a>
	</div>	
</div>		

		<div class="main">
			<h2 class="text-center">layer弹层组件</h2>
			<div class="demo">
					<h3>一、初始化CSS样式</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="css()"></a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
.layui-layer-title[style*="center"] {
	padding: 0 20px;
}
.layui-layer a[class*='layui-layer-btn'] {
	height: auto;
	display: inline-block;
	padding: 6px 12px;
	margin-bottom: 0;
	font-size: 14px;
	font-weight: 400;
	line-height: 1.42857143;
	text-align: center;
	white-space: nowrap;
	vertical-align: middle;
	-ms-touch-action: manipulation;
	touch-action: manipulation;
	cursor: pointer;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	background-image: none;
	border-radius: 4px;
}
body .layui-layer-tab .layui-layer-title span.layui-layer-tabnow {
	height: 43px;
}</pre>
			</div>
			<div class="demo">
					<h3>二、初始化配置</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="js()"></a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.config({    	//初始化配置
    shadeClose: true, //点击遮罩关闭
    btnAlign: 'c' //按钮居中
})</pre>
			</div>
			<div class="demo">
					<h3>1、（1）默认alert</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="alert_content()">默认alertg</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.alert('内容');
</pre>
			</div>
			<div class="demo">
					<h3>1、（2）预加载</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="alert_content1()"></a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.ready(function() {
	layer.open({
		layer.alert('内容');
	});
})</pre>
			</div>		
			<div class="demo">
					<h3>2、询问框confirm</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="confirm()">询问框confirm</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.confirm('是否删除此条消息？', {
	btn: ['确认', '取消'], //按钮
	}, function() {
	layer.msg('删除成功！', { icon: 1, //icon为2 是失败图标
	time: 2500//2.5s后自动关闭
	});
})</pre>
			</div>		
			<div class="demo">
				<h3>3、（1）提示框msg</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="msg()">提示框msg</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
//正常
layer.msg('玩命提示中');
//警告
</pre>
			</div>
			<div class="demo">
				<h3>3、（2）警告提示框msg</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="msg_warning()">警告提示框msg</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
//警告
layer.msg('警告！不能取消！', function(){
//关闭后的操作
});</pre>
			</div>			
			<div class="demo">
				<h3>4、html页面层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="html_content()">html页面层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
	type: 1,
	skin: 'layui-layer-rim', //加上边框
	area: ['420px', 'auto'], //宽高
	content: 'html内容'
});</pre>
			</div>
			
			<div class="demo">
				<h3>5、捕获页capture</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="capture()">捕获页capture</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
    type: 1,
    shade: false,
    title: false, //不显示标题
    content: $('.layer_notice'), //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
    cancel: function(){
    	layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', {time: 5000, icon:6});
    }
});</pre>
			</div>
			<div class="demo">
				<h3>6、自定层html</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="html_content1()">自定层html</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
<pre>
layer.open({
	title:['文本', 'text-align:center'],
	type: 1,
	skin: 'layui-layer-demo', //样式类名
	closeBtn: 0, //不显示关闭按钮
	anim: 2, //目前anim可支持的动画类型有0-6
	shadeClose: true, //开启遮罩关闭
	content: '内容'
});</pre>
			</div>

			<div class="demo">
				<h3>7、tips层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="tips()" id="tips_box">tips层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.tips('我是另外一个tips，只不过我长得跟之前那位稍有些不一样。', '#tips', {
	tips: [3, '#3595CC'],//通过1-4进行方向设定。如tips: 3则表示在元素的下面出现。
	time: 4000
});</pre>
			</div>
			<div class="demo">
				<h3>8、（1）iframe层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="iframe()">iframe层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
	type: 2,
	title: 'layer mobile页',
	shade: 0.8, //默认是0.3透明度的黑色背景（'#000'）,可以shade: [0.8, '#393D49']
	area: ['380px', '90%'],
	content: 'http://layer.layui.com/mobile/' //iframe的url
});</pre>
			</div>
			<div class="demo">
				<h3>8、（2）iframe层-禁滚动条</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="iframe_overflow()">iframe层-禁滚动条</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
    type: 2,
    area: ['360px', '500px'],
    skin: 'layui-layer-rim', //加上边框
    content: ['http://layer.layui.com/mobile', 'no']
});</pre>
			</div>			
			<div class="demo">
				<h3>9、prompt层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="prompt()">prompt层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.prompt({title: '输入任何口令，并确认', formType: 1}, function(pass, index){
	layer.close(index);
	layer.prompt({title: '随便写点啥，并确认', formType: 2}, function(text, index){
	    layer.close(index);
	    layer.msg('演示完毕！您的口令：'+ pass +'您最后写下了：'+text);
    });
});</pre>
			</div>
			<div class="demo">
				<h3>10、tab层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="tab()">tab层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.tab({
	area: ['600px', '300px'],
	tab: [{
		title: 'TAB1',
		content: '内容1'
	}, {
		title: 'TAB2',
		content: '内容2'
	}, {
		title: 'TAB3',
		content: '内容3'
	}]
});</pre>
			</div>
			<div class="demo">
				<h3>11、多窗口</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="manywindow()">多窗口</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
	type: 2, //此处以iframe举例
	title: '多窗口',
	area: ['390px', '260px'],
	shade: 0,
	maxmin: true,
	content: 'http://layer.layui.com/test/settop.html',
	btn: ['知道了', '关闭'], //只是为了演示
	yes: function() {
		$(that).click();
	},
	btn2: function() {
		layer.closeAll();
	},
	zIndex: layer.zIndex, //重点1
	success: function(layero) {
		layer.setTop(layero); //重点2
	}
});</pre>
			</div>
			<div class="demo">
				<h3>12、透明的询问框</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="confirmTrans()">透明的询问框</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.msg('大部分参数都是可以公用的合理搭配，展示不一样的风格', {
        time: 20000, //20s后自动关闭
        btn: ['知道了', '关闭']
    });
}</pre>
			</div>
			<div class="demo">
				<h3>13、公告层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="notice()">公告层</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
	type: 1,
	title: false, //不显示标题栏
	closeBtn: false,
	area: '300px;',
	shade: 0.8,
	id: 'LAY_layuipro', //设定一个id，防止重复弹出
	btn: ['火速围观', '残忍拒绝'],
	moveType: 1, //拖拽模式，0或者1
	content: '<div style="padding: 50px; line-height: 22px; background-color: #393D49; color: #fff; font-weight: 300;">你知道吗？亲！<br>layer ≠ layui<br><br>layer只是作为Layui的一个弹层模块，由于其用户基数较大，所以常常会有人以为layui是layerui<br><br>layer虽然已被 Layui 收编为内置的弹层模块，但仍然会作为一个独立组件全力维护、升级。<br><br>我们此后的征途是星辰大海 ^_^</div>',
	success: function(layero) {
		var btn = layero.find('.layui-layer-btn');
		btn.css('text-align', 'center');
		btn.find('.layui-layer-btn0').attr({
			href: 'http://www.layui.com/',
			target: '_blank'
		});
	}
});</pre>
			</div>
			<div class="demo">
				<h3>14、定位层</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="position()">定位层</a>
					<a style="font-size: 14px;margin-left: 20px;" href="http://www.layui.com/doc/modules/layer.html#offset" target="_blank">offset参数项</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
    type: 1
    ,offset: 'rb' //具体配置参考：offset参数项
    ,content: '<div style="padding: 20px 80px;">内容</div>'
    ,btn: '关闭全部'
    ,btnAlign: 'c' //按钮居中
    ,shade: 0 //不显示遮罩
    ,yes: function(){
    	layer.closeAll();
    }
});</pre>
			</div>
			<div class="demo">
				<h3>15、屏蔽浏览器滚动条</h3>
				<div class="text-right">
					<a class="btn btn-default" onclick="layer_overflow()">屏蔽浏览器滚动条</a>
					<input type="button" class="btn btn-danger copybtn" value="点击复制代码" />
				</div>
				<pre>
layer.open({
    content: '浏览器滚动条已锁',
    scrollbar: false
});</pre>
			</div>			
		</div>
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/clipboard.min.js"></script>
		<script src="js/layer/layer.js"></script>
		<script>
			//jQuery实现pre高度根据内容自适应
	        $.fn.extend({
	            txtaAutoHeight: function () {
	                return this.each(function () {
	                    var $this = $(this);
	                    if (!$this.attr('initAttrH')) {
	                        $this.attr('initAttrH', $this.outerHeight());
	                    }
	                    setAutoHeight(this).on('input', function () {
	                        setAutoHeight(this);
	                    });
	                });
	                function setAutoHeight(elem) {
	                    var $obj = $(elem);
	                    return $obj.css({ height: $obj.attr('initAttrH'), 'overflow-y': 'auto' }).height(elem.scrollHeight);
	                }
	            }
	        });
	        //调用
	        $(function (){
	            $("pre").txtaAutoHeight();
	        });			
			
//			$('.demo .copybtn').click(function() {
//				var pretext = $(this).parent().siblings('pre');
//				pretext.select(); // 选择对象
//				document.execCommand("Copy"); // 执行浏览器复制命令
//			})

			layer.config({    	//初始化配置
			  shadeClose: true,//点击遮盖层关闭
			  btnAlign: 'c' //按钮居中
			})
			function alert_content() {
				layer.alert('内容')
			}
			function confirm() {
				layer.confirm('是否删除此条消息？', {
					btn: ['确认', '取消'], //按钮
				}, function() {
					layer.msg('删除成功！', { icon: 1, //icon为2 是失败图标
					time: 2500//2.5s后自动关闭
					});
				})
			}

			function msg() {
				layer.msg('玩命提示中');
			}
			function msg_warning(){
				layer.msg('警告！不能取消！', function(){
				//关闭后的操作
				});				
			}


			function html_content() {
				layer.open({
					type: 1,
					skin: 'layui-layer-rim', //加上边框
					area: ['420px', 'auto'], //宽高
					content: 'html内容'
				});
			}

			function capture() {
				layer.open({
					type: 1,
					shade: false,
					title: false, //不显示标题
					content: $('.layer_notice'), //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
					cancel: function() {
						layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', { time: 5000, icon: 6 });
					}
				});
			}

			function html_content1() {
				//自定页
				layer.open({
					title:['文本', 'text-align:center'],
					type: 1,
					skin: 'layui-layer-demo', //样式类名
					closeBtn: 0, //不显示关闭按钮
					anim: 2, //目前anim可支持的动画类型有0-6
					shadeClose: true, //开启遮罩关闭
					content: '内容'
				});
			}

			function tips() {
				layer.tips('我是另外一个tips，只不过我长得跟之前那位稍有些不一样。', '#tips_box', {
					tips: [3, '#3595CC'],//通过1-4进行方向设定。如tips: 3则表示在元素的下面出现。
					time: 4000
				});
			}

			function iframe() {
				//iframe层
				layer.open({
					type: 2,
					title: 'layer mobile页',
					shade: 0.8,//默认是0.3透明度的黑色背景（'#000'）,可以shade: [0.8, '#393D49']
					area: ['380px', '90%'],
					content: 'http://layer.layui.com/mobile/' //iframe的url
				});
			}
			function iframe_overflow(){
				//iframe层-禁滚动条
				layer.open({
				  type: 2,
				  area: ['360px', '500px'],
				  skin: 'layui-layer-rim', //加上边框
				  content: ['http://layer.layui.com/mobile', 'no']
				});
			}

			function prompt() {
				layer.prompt({ title: '输入任何口令，并确认', formType: 1 }, function(pass, index) {
					layer.close(index);
					layer.prompt({ title: '随便写点啥，并确认', formType: 2 }, function(text, index) {
						layer.close(index);
						layer.msg('演示完毕！您的口令：' + pass + '您最后写下了：' + text);
					});
				});
			}

			function tab() {
				//tab层
				layer.tab({
				  area: ['600px', '300px'],
//				skin:'layui-tab',
				  tab: [{
				    title: 'TAB1', 
				    content: '内容1'
				  }, {
				    title: 'TAB2', 
				    content: '内容2'
				  }, {
				    title: 'TAB3', 
				    content: '内容3'}]
				});
			}

			function manywindow() {
				layer.open({
					type: 2, //此处以iframe举例
					title: '多窗口',
					area: ['390px', '260px'],
					shade: 0,
					maxmin: true,
					content: 'http://layer.layui.com/test/settop.html',
					btn: ['知道了', '关闭'], //只是为了演示
					yes: function() {
						$(that).click();
					},
					btn2: function() {
						layer.closeAll();
					},
					zIndex: layer.zIndex //重点1
						,
					success: function(layero) {
						layer.setTop(layero); //重点2
					}
				});
			}
			function confirmTrans() {
				layer.msg('大部分参数都是可以公用的合理搭配，展示不一样的风格', {
				        time: 20000, //20s后自动关闭
				        btn: ['知道了', '关闭']
				});
			}
			
			function notice() {
				layer.open({
					type: 1,
					title: false, //不显示标题栏
					closeBtn: false,
					area: '300px;',
					shade: 0.8,
					id: 'LAY_layuipro', //设定一个id，防止重复弹出
					btn: ['火速围观', '残忍拒绝'],
					moveType: 1, //拖拽模式，0或者1
					content: '<div style="padding: 50px; line-height: 22px; background-color: #393D49; color: #fff; font-weight: 300;">你知道吗？亲！<br>layer ≠ layui<br><br>layer只是作为Layui的一个弹层模块，由于其用户基数较大，所以常常会有人以为layui是layerui<br><br>layer虽然已被 Layui 收编为内置的弹层模块，但仍然会作为一个独立组件全力维护、升级。<br><br>我们此后的征途是星辰大海 ^_^</div>',
					success: function(layero) {
						var btn = layero.find('.layui-layer-btn');
						btn.css('text-align', 'center');
						btn.find('.layui-layer-btn0').attr({
							href: 'http://www.layui.com/',
							target: '_blank'
						});
					}
				});
			}
			function position(){
				layer.open({
				    type: 1
				    ,offset: 'rb' //具体配置参考：offset参数项
				    ,content: '<div style="padding: 20px 80px;">内容</div>'
				    ,btn: '关闭全部'
				    ,btnAlign: 'c' //按钮居中
				    ,shade: 0 //不显示遮罩
				    ,yes: function(){
				    	layer.closeAll();
				    }
				})				
			}
			function layer_overflow(){
				//屏蔽浏览器滚动条
				layer.open({
				    content: '浏览器滚动条已锁',
				    scrollbar: false
				});				
			}
			layer.ready(function() {			
				var clipboard = new Clipboard('.copybtn');
				function nav_content(){
					var demo_length = $('.main .demo').length;
					var li='';
					for (i=0;i<demo_length;i++) {
								var demo_title = $($('.main .demo')[i]).find('h3').text(),
								demo_src = $($('.main .demo')[i]).find('a').attr('onclick');
								name = demo_src,
								deme_src_name = name.replace('\(','').replace('\)','');
								li+='<li><a href="#'+deme_src_name+'">'+demo_title+'</li>';
								if(deme_src_name!='undefined'){
									$($('.main .demo')[i]).attr('id',deme_src_name);
								}
								$($('.main .demo')[i]).find('a:empty').css('opacity','0');
								$($('.main .demo')[i]).find('.copybtn').attr({'data-clipboard-action':'copy','data-clipboard-target':'#'+deme_src_name+i});
								$($('.main .demo')[i]).find('pre').attr({'id':deme_src_name+i});
							}
							return li;
				};
				layer.open({
					type: 1,
					area: ['200px', '500px'],
					offset: 'r', //具体配置参考：offset参数项
					content: '<ul class="list-unstyled" id="title">'
							+nav_content()
							+'</ul>',
					shade: 0, //不显示遮罩
					skin:'nav-ul'		
				});
			})
		</script>
	</body>

</html>